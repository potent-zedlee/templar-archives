# ê¸°ìˆ  ìŠ¤íƒ ê°œì„  ê³„íš

> **ì‘ì„±ì¼**: 2025-11-29
> **ë²„ì „**: 1.0
> **ìƒíƒœ**: ê²€í†  ì¤‘

---

## ëª©ì°¨

1. [í˜„ì¬ ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½](#1-í˜„ì¬-ê¸°ìˆ -ìŠ¤íƒ-ìš”ì•½)
2. [í‰ê°€ ê²°ê³¼](#2-í‰ê°€-ê²°ê³¼)
3. [ê°œì„  ì‘ì—… ëª©ë¡](#3-ê°œì„ -ì‘ì—…-ëª©ë¡)
4. [ìƒì„¸ ê°œì„  ê³„íš](#4-ìƒì„¸-ê°œì„ -ê³„íš)
5. [ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ](#5-ë§ˆì´ê·¸ë ˆì´ì…˜-ê°€ì´ë“œ)
6. [ì˜ˆìƒ íš¨ê³¼](#6-ì˜ˆìƒ-íš¨ê³¼)

---

## 1. í˜„ì¬ ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

### Core

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  | ë²„ì „ | ìƒíƒœ |
|----------|------|------|------|
| Framework | Next.js | 16.0.1 | âœ… ìµœì‹  |
| UI Library | React | 19.2.0 | âœ… ìµœì‹  |
| Language | TypeScript | 5.9.3 | âœ… ìµœì‹  |
| Runtime | Node.js | 22 | âœ… ìµœì‹  |
| Styling | Tailwind CSS | 4.1.16 | âœ… ìµœì‹  |

### ìƒíƒœ ê´€ë¦¬

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ | ìƒíƒœ |
|------|------|------|------|
| React Query | 5.90.5 | ì„œë²„ ìƒíƒœ | âœ… ìµœì  |
| Zustand | 5.0.2 | í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ | âœ… ìµœì  |

### ì¸í”„ë¼

| ê¸°ìˆ  | ìš©ë„ | ìƒíƒœ |
|------|------|------|
| Firebase Firestore | ë°ì´í„°ë² ì´ìŠ¤ | âœ… ì í•© |
| Firebase Auth | ì¸ì¦ | âœ… ì í•© |
| Firebase Hosting | ì •ì  í˜¸ìŠ¤íŒ… | âœ… ì í•© |
| GCP Cloud Run | ì„œë²„ë¦¬ìŠ¤ ì»¨í…Œì´ë„ˆ | âœ… ì í•© |
| GCP Cloud Tasks | ì‘ì—… í | âœ… ì í•© |
| Vertex AI Gemini | AI ì˜ìƒ ë¶„ì„ | âœ… ì í•© |

### í…ŒìŠ¤íŠ¸

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ | ìƒíƒœ |
|------|------|------|------|
| Vitest | 3.2.4 | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | âœ… í˜„ëŒ€ì  |
| Playwright | 1.56.1 | E2E í…ŒìŠ¤íŠ¸ | âœ… í˜„ëŒ€ì  |

---

## 2. í‰ê°€ ê²°ê³¼

### ì¢…í•© ì ìˆ˜: â­â­â­â­ (4/5)

| ì˜ì—­ | ì ìˆ˜ | ë¹„ê³  |
|------|------|------|
| í”„ë ˆì„ì›Œí¬ ì„ íƒ | â­â­â­â­â­ | ìµœì‹  Next.js 16 + React 19 |
| ìƒíƒœ ê´€ë¦¬ | â­â­â­â­â­ | React Query + Zustand ì¡°í•© |
| ìŠ¤íƒ€ì¼ë§ | â­â­â­â­â­ | Tailwind 4 + Radix UI |
| ì¸í”„ë¼ | â­â­â­â­ | GCP ì™„ì „ í†µí•© |
| ë³´ì•ˆ | â­â­â­â­ | Server Actions, CSP ì ìš© |
| ì½”ë“œ í’ˆì§ˆ | â­â­â­ | TypeScript ì—ëŸ¬ ë¬´ì‹œ ì„¤ì • |
| ì˜ì¡´ì„± ê´€ë¦¬ | â­â­â­ | ì¤‘ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¡´ì¬ |

---

## 3. ê°œì„  ì‘ì—… ëª©ë¡

### ğŸ”´ ë†’ì€ ìš°ì„ ìˆœìœ„ (ì¦‰ì‹œ ìˆ˜ì • ê¶Œì¥)

| # | ì‘ì—… | í˜„ì¬ ìƒíƒœ | ëª©í‘œ ìƒíƒœ | ì˜ˆìƒ ì†Œìš” |
|---|------|----------|----------|----------|
| 1 | TypeScript ì—ëŸ¬ í™œì„±í™” | `ignoreBuildErrors: true` | `false` | 2-4ì‹œê°„ |
| 2 | ì¤‘ë³µ ì• ë‹ˆë©”ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œê±° | `framer-motion` + `motion` | `motion`ë§Œ | 30ë¶„ |
| 3 | Flowbite ì œê±° | Flowbite + Radix í˜¼ì¬ | Radix UIë§Œ | 2-3ì‹œê°„ |

### ğŸŸ¡ ì¤‘ê°„ ìš°ì„ ìˆœìœ„ (1-2ì£¼ ë‚´ ê¶Œì¥)

| # | ì‘ì—… | í˜„ì¬ ìƒíƒœ | ëª©í‘œ ìƒíƒœ | ì˜ˆìƒ ì†Œìš” |
|---|------|----------|----------|----------|
| 4 | ytdl-core ëŒ€ì²´ | ytdl-core ì‚¬ìš© | YouTube Data API | 4-6ì‹œê°„ |
| 5 | CSP ê°•í™” | `unsafe-eval`, `unsafe-inline` | nonce ê¸°ë°˜ | 2-3ì‹œê°„ |
| 6 | next.config ì •ë¦¬ | supabase.co íŒ¨í„´ ì¡´ì¬ | ì œê±° | 10ë¶„ |

### ğŸŸ¢ ë‚®ì€ ìš°ì„ ìˆœìœ„ (ì—¬ìœ  ìˆì„ ë•Œ)

| # | ì‘ì—… | í˜„ì¬ ìƒíƒœ | ëª©í‘œ ìƒíƒœ | ì˜ˆìƒ ì†Œìš” |
|---|------|----------|----------|----------|
| 7 | ì˜ì¡´ì„± ìœ„ì¹˜ ì •ë¦¬ | @typesê°€ dependenciesì— | devDependenciesë¡œ ì´ë™ | 15ë¶„ |
| 8 | baseline-browser-mapping ì—…ë°ì´íŠ¸ | 2ê°œì›” ì´ìƒ ì˜¤ë˜ë¨ | ìµœì‹  ë²„ì „ | 5ë¶„ |
| 9 | ë²ˆë“¤ ì‚¬ì´ì¦ˆ ë¶„ì„ ë° ìµœì í™” | ë¶„ì„ í•„ìš” | ìµœì í™” ì ìš© | 1-2ì‹œê°„ |

---

## 4. ìƒì„¸ ê°œì„  ê³„íš

### 4.1 TypeScript ì—ëŸ¬ í™œì„±í™”

#### ë¬¸ì œì 
```javascript
// next.config.mjs
typescript: {
  ignoreBuildErrors: true,  // âš ï¸ íƒ€ì… ì—ëŸ¬ê°€ í”„ë¡œë•ì…˜ì— ë°°í¬ë¨
}
```

#### ìœ„í—˜ë„
- **ë†’ìŒ**: ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œìƒ ê°€ëŠ¥
- íƒ€ì… ì‹œìŠ¤í…œì˜ ì¥ì ì„ ë¬´íš¨í™”

#### í•´ê²° ë°©ì•ˆ
1. `ignoreBuildErrors: false`ë¡œ ë³€ê²½
2. `npx tsc --noEmit` ì‹¤í–‰í•˜ì—¬ ëª¨ë“  ì—ëŸ¬ í™•ì¸
3. ì—ëŸ¬ í•˜ë‚˜ì”© ìˆ˜ì •

#### ì‘ì—… ìˆœì„œ
```bash
# 1. í˜„ì¬ íƒ€ì… ì—ëŸ¬ í™•ì¸
npx tsc --noEmit 2>&1 | head -100

# 2. ì—ëŸ¬ ìˆ˜ í™•ì¸
npx tsc --noEmit 2>&1 | grep "error TS" | wc -l

# 3. ì—ëŸ¬ ìˆ˜ì • í›„ ì„¤ì • ë³€ê²½
# next.config.mjsì—ì„œ ignoreBuildErrors: false
```

---

### 4.2 ì¤‘ë³µ ì• ë‹ˆë©”ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œê±°

#### ë¬¸ì œì 
```json
{
  "framer-motion": "^12.23.24",
  "motion": "^12.23.24"
}
```
- `motion`ì€ `framer-motion`ì˜ ìƒˆ ì´ë¦„ (ë¦¬ë¸Œëœë”©)
- ë™ì¼ ì½”ë“œê°€ ë‘ ë²ˆ ë²ˆë“¤ë§ë¨

#### í•´ê²° ë°©ì•ˆ
```bash
# 1. framer-motion importë¥¼ motionìœ¼ë¡œ ë³€ê²½
grep -r "from 'framer-motion'" --include="*.tsx" --include="*.ts"

# 2. framer-motion ì œê±°
npm uninstall framer-motion

# 3. import ê²½ë¡œ ì—…ë°ì´íŠ¸
# import { motion } from 'framer-motion'
# â†’ import { motion } from 'motion/react'
```

#### ë§ˆì´ê·¸ë ˆì´ì…˜
```typescript
// Before
import { motion, AnimatePresence } from 'framer-motion'

// After
import { motion, AnimatePresence } from 'motion/react'
```

---

### 4.3 Flowbite ì œê±°

#### ë¬¸ì œì 
```json
{
  "flowbite": "^4.0.1",
  "flowbite-react": "^0.12.10",
  // + Radix UI ì»´í¬ë„ŒíŠ¸ 20ê°œ ì´ìƒ
}
```
- ë‘ UI ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¼ì¬
- ë²ˆë“¤ ì‚¬ì´ì¦ˆ ì¦ê°€ (~200KB+)
- ìŠ¤íƒ€ì¼ ì¶©ëŒ ê°€ëŠ¥ì„±

#### í•´ê²° ë°©ì•ˆ
1. Flowbite ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ì²˜ íŒŒì•…
2. Radix UI ë˜ëŠ” ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸ë¡œ ëŒ€ì²´
3. Flowbite ì œê±°

```bash
# 1. Flowbite ì‚¬ìš©ì²˜ í™•ì¸
grep -r "flowbite" --include="*.tsx" --include="*.ts" | grep -v node_modules

# 2. ì»´í¬ë„ŒíŠ¸ êµì²´ í›„ ì œê±°
npm uninstall flowbite flowbite-react
```

#### ëŒ€ì²´ ë§¤í•‘
| Flowbite | Radix UI / ëŒ€ì²´ |
|----------|----------------|
| Modal | Dialog |
| Dropdown | DropdownMenu |
| Accordion | Accordion |
| Tabs | Tabs |
| Toast | Toast (sonner) |

---

### 4.4 ytdl-core ëŒ€ì²´

#### ë¬¸ì œì 
```json
{
  "ytdl-core": "^4.11.5"
}
```
- YouTube API ë³€ê²½ì— ì·¨ì•½
- ìì£¼ ê¹¨ì§€ë©° ìœ ì§€ë³´ìˆ˜ ë¶ˆì•ˆì •
- Rate limiting ë¬¸ì œ

#### í•´ê²° ë°©ì•ˆ

**ì˜µì…˜ A: YouTube Data API (ê¶Œì¥)**
```typescript
// YouTube Data API v3 ì‚¬ìš©
import { google } from 'googleapis'

const youtube = google.youtube({
  version: 'v3',
  auth: process.env.YOUTUBE_API_KEY
})

async function getVideoInfo(videoId: string) {
  const response = await youtube.videos.list({
    part: ['snippet', 'contentDetails'],
    id: [videoId]
  })
  return response.data.items?.[0]
}
```

**ì˜µì…˜ B: yt-dlp ë˜í¼ (ë‹¤ìš´ë¡œë“œ í•„ìš”ì‹œ)**
```typescript
// Cloud Runì—ì„œ yt-dlp ì‚¬ìš©
import { exec } from 'child_process'

async function downloadVideo(url: string) {
  return new Promise((resolve, reject) => {
    exec(`yt-dlp -f best -o output.mp4 "${url}"`, (error, stdout) => {
      if (error) reject(error)
      else resolve(stdout)
    })
  })
}
```

---

### 4.5 CSP ê°•í™”

#### ë¬¸ì œì 
```javascript
"script-src 'self' 'unsafe-eval' 'unsafe-inline' ..."
```
- XSS ê³µê²©ì— ì·¨ì•½
- `unsafe-eval`: ë™ì  ì½”ë“œ ì‹¤í–‰ í—ˆìš©
- `unsafe-inline`: ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ í—ˆìš©

#### í•´ê²° ë°©ì•ˆ: nonce ê¸°ë°˜ CSP

```typescript
// middleware.ts
import { NextResponse } from 'next/server'
import type { NextRequest } from 'next/server'

export function middleware(request: NextRequest) {
  const nonce = Buffer.from(crypto.randomUUID()).toString('base64')

  const cspHeader = `
    default-src 'self';
    script-src 'self' 'nonce-${nonce}' https://apis.google.com;
    style-src 'self' 'nonce-${nonce}';
    img-src 'self' data: https:;
    connect-src 'self' https://firestore.googleapis.com;
  `.replace(/\s{2,}/g, ' ').trim()

  const response = NextResponse.next()
  response.headers.set('Content-Security-Policy', cspHeader)
  response.headers.set('x-nonce', nonce)

  return response
}
```

```tsx
// app/layout.tsx
import { headers } from 'next/headers'

export default function RootLayout({ children }) {
  const nonce = headers().get('x-nonce') ?? ''

  return (
    <html>
      <head>
        <script nonce={nonce} src="..." />
      </head>
      <body>{children}</body>
    </html>
  )
}
```

---

### 4.6 next.config ì •ë¦¬

#### ë¬¸ì œì 
```javascript
// next.config.mjs - remotePatterns
{
  protocol: 'https',
  hostname: '**.supabase.co',  // Firestoreë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œë¨
  pathname: '/storage/v1/object/**',
}
```

#### í•´ê²° ë°©ì•ˆ
```javascript
// ì œê±° ëŒ€ìƒ: supabase.co íŒ¨í„´
images: {
  remotePatterns: [
    // âŒ ì œê±°
    // {
    //   protocol: 'https',
    //   hostname: '**.supabase.co',
    //   pathname: '/storage/v1/object/**',
    // },
    {
      protocol: 'https',
      hostname: 'i.ytimg.com',
    },
    {
      protocol: 'https',
      hostname: 'img.youtube.com',
    },
    {
      protocol: 'https',
      hostname: 'lh3.googleusercontent.com',
    },
  ],
}
```

---

### 4.7 ì˜ì¡´ì„± ìœ„ì¹˜ ì •ë¦¬

#### ë¬¸ì œì 
```json
{
  "dependencies": {
    "@types/react-dropzone": "^4.2.2"  // devDependenciesì— ìˆì–´ì•¼ í•¨
  },
  "devDependencies": {
    "@types/pg": "^8.15.5"  // pgê°€ dependenciesë©´ ì—¬ê¸°ê°€ ë§ìŒ
  }
}
```

#### í•´ê²° ë°©ì•ˆ
```bash
# @types íŒ¨í‚¤ì§€ë¥¼ devDependenciesë¡œ ì´ë™
npm uninstall @types/react-dropzone
npm install --save-dev @types/react-dropzone
```

---

### 4.8 baseline-browser-mapping ì—…ë°ì´íŠ¸

#### ë¬¸ì œì 
```
[baseline-browser-mapping] The data in this module is over two months old.
```

#### í•´ê²° ë°©ì•ˆ
```bash
npm install baseline-browser-mapping@latest -D
```

---

## 5. ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

### ë‹¨ê³„ë³„ ì‹¤í–‰ ê³„íš

```
Week 1: ë†’ì€ ìš°ì„ ìˆœìœ„
â”œâ”€â”€ Day 1-2: TypeScript ì—ëŸ¬ ìˆ˜ì •
â”œâ”€â”€ Day 3: ì¤‘ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œê±° (framer-motion)
â””â”€â”€ Day 4-5: Flowbite â†’ Radix UI ë§ˆì´ê·¸ë ˆì´ì…˜

Week 2: ì¤‘ê°„ ìš°ì„ ìˆœìœ„
â”œâ”€â”€ Day 1-2: ytdl-core ëŒ€ì²´
â”œâ”€â”€ Day 3: CSP ê°•í™”
â””â”€â”€ Day 4-5: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

Week 3: ë‚®ì€ ìš°ì„ ìˆœìœ„ + ë§ˆë¬´ë¦¬
â”œâ”€â”€ Day 1: ì˜ì¡´ì„± ì •ë¦¬
â”œâ”€â”€ Day 2: ë²ˆë“¤ ë¶„ì„ ë° ìµœì í™”
â””â”€â”€ Day 3-5: ë¬¸ì„œí™” ë° ìµœì¢… ê²€í† 
```

### ë¸Œëœì¹˜ ì „ëµ
```
main
  â””â”€â”€ feat/tech-stack-improvements
        â”œâ”€â”€ fix/typescript-errors
        â”œâ”€â”€ refactor/remove-framer-motion
        â”œâ”€â”€ refactor/remove-flowbite
        â”œâ”€â”€ feat/youtube-api
        â””â”€â”€ security/csp-nonce
```

### ë¡¤ë°± ê³„íš
ê° ë³€ê²½ì‚¬í•­ì€ ë…ë¦½ì ì¸ ì»¤ë°‹ìœ¼ë¡œ ê´€ë¦¬í•˜ì—¬ ë¬¸ì œ ë°œìƒ ì‹œ ê°œë³„ ë¡¤ë°± ê°€ëŠ¥

---

## 6. ì˜ˆìƒ íš¨ê³¼

### ì„±ëŠ¥ ê°œì„ 
| í•­ëª© | í˜„ì¬ | ì˜ˆìƒ | ê°œì„ ìœ¨ |
|------|------|------|--------|
| ë²ˆë“¤ ì‚¬ì´ì¦ˆ | ~2.5MB | ~2.0MB | -20% |
| ë¹Œë“œ ì‹œê°„ | ~3ë¶„ | ~2.5ë¶„ | -17% |
| ì˜ì¡´ì„± ìˆ˜ | 109ê°œ | ~100ê°œ | -8% |

### ë³´ì•ˆ ê°•í™”
- TypeScript íƒ€ì… ì•ˆì „ì„± í™•ë³´
- CSP ê°•í™”ë¡œ XSS ë°©ì–´ë ¥ í–¥ìƒ
- ë¶ˆì•ˆì •í•œ ì˜ì¡´ì„± ì œê±°

### ìœ ì§€ë³´ìˆ˜ì„±
- ë‹¨ì¼ UI ë¼ì´ë¸ŒëŸ¬ë¦¬ (Radix UI)
- ë‹¨ì¼ ì• ë‹ˆë©”ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ (motion)
- ê¹”ë”í•œ ì˜ì¡´ì„± íŠ¸ë¦¬

### ê°œë°œì ê²½í—˜
- ëª…í™•í•œ íƒ€ì… ì—ëŸ¬ í”¼ë“œë°±
- ì¼ê´€ëœ ì»´í¬ë„ŒíŠ¸ API
- ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë™ì‘

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë†’ì€ ìš°ì„ ìˆœìœ„
- [ ] TypeScript `ignoreBuildErrors: false` ì„¤ì •
- [ ] ëª¨ë“  TypeScript ì—ëŸ¬ ìˆ˜ì •
- [ ] `framer-motion` ì œê±°, `motion` í†µí•©
- [ ] Flowbite ì‚¬ìš©ì²˜ íŒŒì•… ë° ëŒ€ì²´
- [ ] Flowbite íŒ¨í‚¤ì§€ ì œê±°

### ì¤‘ê°„ ìš°ì„ ìˆœìœ„
- [ ] ytdl-core ì‚¬ìš©ì²˜ íŒŒì•…
- [ ] YouTube Data APIë¡œ ëŒ€ì²´
- [ ] CSP nonce ê¸°ë°˜ìœ¼ë¡œ ì „í™˜
- [ ] next.configì—ì„œ supabase.co íŒ¨í„´ ì œê±°

### ë‚®ì€ ìš°ì„ ìˆœìœ„
- [ ] @types íŒ¨í‚¤ì§€ devDependenciesë¡œ ì´ë™
- [ ] baseline-browser-mapping ì—…ë°ì´íŠ¸
- [ ] ë²ˆë“¤ ë¶„ì„ ì‹¤í–‰ (`npm run analyze`)
- [ ] ìµœì¢… ë¬¸ì„œ ì—…ë°ì´íŠ¸

---

**ë¬¸ì„œ ê´€ë¦¬ì**: Claude Code
**ìµœì¢… ìˆ˜ì •**: 2025-11-29
