# GGVault - Claude Project Context

## í”„ë¡œì íŠ¸ ê°œìš”
GGVaultëŠ” YouTube/Twitch ì˜ìƒì—ì„œ í¬ì»¤ í•¸ë“œë¥¼ ìë™ìœ¼ë¡œ ì¶”ì¶œí•˜ê³ , ì²´ê³„ì ìœ¼ë¡œ ë³´ê´€í•˜ë©°, ì§€ëŠ¥ì ìœ¼ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” **ì›¹ ê¸°ë°˜ í†µí•© í”Œë«í¼**ì…ë‹ˆë‹¤.

**ê¸°ìˆ **: Next.js 14, Supabase, Claude Vision API
**ë°°í¬**: Vercel + Supabase
**ê°œë°œ ì„œë²„**: http://localhost:3000

---

## í•µì‹¬ ê¸°ëŠ¥

### 1. ì˜ìƒ ë¶„ì„ âœ… (Phase 1-4 ì™„ë£Œ)
- **YouTube URL** ë˜ëŠ” **ë¡œì»¬ íŒŒì¼ ì—…ë¡œë“œ**
- **Claude Vision 2ë‹¨ê³„ íŒŒì´í”„ë¼ì¸**:
  - í•¸ë“œ ê²½ê³„ ê°ì§€ (CHECK_INTERVAL=2, 6ì´ˆ ê°„ê²©)
  - í•¸ë“œ ì‹œí€€ìŠ¤ ë¶„ì„ (8ê°œ í‚¤í”„ë ˆì„)
- **ì„±ëŠ¥**: ì²˜ë¦¬ 15ë¶„/37ë¶„ ì˜ìƒ, ë¹„ìš© $2.75, ì •í™•ë„ 95%+
- **ì‹¤ì‹œê°„ ì§„í–‰ë¥ ** (SSE ìŠ¤íŠ¸ë¦¬ë°)

### 2. ë°ì´í„° ê´€ë¦¬ âœ…
- í•¸ë“œ íˆìŠ¤í† ë¦¬ + ì˜ìƒ í´ë¦½ ë™ê¸°í™” ì €ì¥
- 3ê°€ì§€ ì˜ìƒ ì†ŒìŠ¤ (YouTube, ë¡œì»¬ íŒŒì¼, NAS)
- Archive ì´ë²¤íŠ¸ ê´€ë¦¬ (Tournament/SubEvent/Day CRUD)

### 3. ê²€ìƒ‰ ë° ë¶„ì„ âœ…
- 30+ ê²€ìƒ‰ ì¡°ê±´ í•„í„°ë§
- **AI ìì—°ì–´ ê²€ìƒ‰** (Claude 3.5 Sonnet)
- í†µê³„ ëŒ€ì‹œë³´ë“œ

### 4. ì»¤ë®¤ë‹ˆí‹° âœ…
- í¬ìŠ¤íŠ¸ ì‘ì„± ë° ì¹´í…Œê³ ë¦¬
- ëŒ“ê¸€ ë° ë‹µê¸€ ì‹œìŠ¤í…œ
- ì¢‹ì•„ìš” ê¸°ëŠ¥
- í•¸ë“œ ê³µìœ  (SNS, ë§í¬, ì„ë² ë“œ)

### 5. ì¸ì¦ âœ… (Phase 0 ì™„ë£Œ)
- Google OAuth ë¡œê·¸ì¸
- Row Level Security (RLS)

### 6. í”Œë ˆì´ì–´ í”„ë¡œí•„ í´ë ˆì„ âœ… (2025-10-14 ì™„ë£Œ)
- ìœ ì €ê°€ ìì‹ ì˜ í”Œë ˆì´ì–´ í”„ë¡œí•„ í´ë ˆì„ ìš”ì²­
- ì†Œì…œ ë¯¸ë””ì–´, ì´ë©”ì¼ ë“± ë‹¤ì–‘í•œ ì¸ì¦ ë°©ë²•
- ê´€ë¦¬ì ìŠ¹ì¸/ê±°ì ˆ ì›Œí¬í”Œë¡œìš°
- í´ë ˆì„ ìƒíƒœ ë°°ì§€ í‘œì‹œ

---

## í˜„ì¬ ê°œë°œ ìƒíƒœ (2025-10-14)

### âœ… ì™„ë£Œëœ Phase

#### Phase 0: ì¸ì¦ ì‹œìŠ¤í…œ (2025-10-12 ì™„ë£Œ)
- Google OAuth ë¡œê·¸ì¸
- ì „ì—­ ì¸ì¦ ìƒíƒœ ê´€ë¦¬ (`useAuth` í›…)
- ë³´í˜¸ëœ ì•¡ì…˜ (ëŒ“ê¸€, ì¢‹ì•„ìš”)

#### í”„ë¡ íŠ¸ì—”ë“œ UI (100%)
- **ë©”ì¸ í˜ì´ì§€**: Hero, ì¸ê¸° ì˜ìƒ, ì˜¤ëŠ˜ì˜ ì—­ì‚¬
- **Archive í˜ì´ì§€**: Tournament íŠ¸ë¦¬, ì˜ìƒ í”Œë ˆì´ì–´, í•¸ë“œ ëª©ë¡ (Accordion)
- **Search í˜ì´ì§€**: ê³ ê¸‰ ê²€ìƒ‰, AI ìì—°ì–´ ê²€ìƒ‰
- **Players í˜ì´ì§€**: ëª©ë¡, ìƒì„¸, í†µê³„ ì°¨íŠ¸
- **Community í˜ì´ì§€**: í¬ìŠ¤íŠ¸, ëŒ“ê¸€, ì¢‹ì•„ìš”

#### ë°ì´í„°ë² ì´ìŠ¤ (17ê°œ ë§ˆì´ê·¸ë ˆì´ì…˜)
```
20241001000001_init_schema.sql           # Tournaments, Sub Events, Days, Hands
20241001000002_add_players.sql           # Players, Hand Players
20241001000003_add_video_sources.sql     # ì˜ìƒ ì†ŒìŠ¤ (YouTube, Upload, NAS)
20241001000004_add_community.sql         # Posts, Comments
20241001000005_add_users_table.sql       # Users
20241001000006_add_hand_likes.sql        # Hand Likes
20241001000007_add_payouts_and_matching.sql
20241001000008_add_subevent_details.sql
20241001000009_add_hand_details.sql      # POT, ë³´ë“œ ì¹´ë“œ, ì•¡ì…˜
20241001000010_add_player_notes.sql      # í”Œë ˆì´ì–´ ë…¸íŠ¸
20241001000011_add_player_claims.sql     # í”Œë ˆì´ì–´ í”„ë¡œí•„ í´ë ˆì„
20241001000012_add_hand_bookmarks.sql    # í•¸ë“œ ë¶ë§ˆí¬
20251015000013_add_community_search.sql  # ì»¤ë®¤ë‹ˆí‹° ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ (FTS)
20251015000014_add_user_profile_fields.sql  # ìœ ì € í”„ë¡œí•„ í™•ì¥ (ì†Œì…œ ë§í¬, í†µê³„)
20251015000015_add_admin_system.sql      # ê´€ë¦¬ì ì‹œìŠ¤í…œ (role, ë°´, í™œë™ ë¡œê·¸)
20251015000016_add_content_moderation.sql  # ì½˜í…ì¸  ì‹ ê³  ì‹œìŠ¤í…œ
20251015000017_add_hand_edit_requests.sql  # í•¸ë“œ ìˆ˜ì • ìš”ì²­ ì‹œìŠ¤í…œ
```

#### ì˜ìƒ ë¶„ì„ (Phase 1-4 ì™„ë£Œ)
- **Phase 1**: Claude Vision í•¸ë“œ ê²½ê³„ ê°ì§€
- **Phase 2**: Accordion UI êµ¬í˜„
- **Phase 3**: OCR ì‹œë„ (ë¡¤ë°±ë¨)
- **Phase 4**: ì •í™•ë„ ê°œì„  (CHECK_INTERVAL=2, summary í•„ë“œ)

**í•µì‹¬ íŒŒì¼**:
- `lib/hand-boundary-detector.ts` - í•¸ë“œ ê²½ê³„ ê°ì§€
- `lib/hand-sequence-analyzer.ts` - ì‹œí€€ìŠ¤ ë¶„ì„
- `app/api/analyze-video/route.ts` - 2ë‹¨ê³„ íŒŒì´í”„ë¼ì¸
- `components/analyze-dialog.tsx` - ë¶„ì„ UI
- `components/hand-list-accordion.tsx` - í•¸ë“œ ëª©ë¡ Accordion
- `app/archive/page.tsx` - Archive í˜ì´ì§€

#### Archive ì´ë²¤íŠ¸ ê´€ë¦¬ (2025-10-08)
- Tournament/SubEvent/Day CRUD ê¸°ëŠ¥
- ì»´íŒ©íŠ¸ ë”ë³´ê¸° ë©”ë‰´ (í˜¸ë²„ ì‹œ í‘œì‹œ)
- í•¸ë“œ íƒ€ì„ìŠ¤íƒ¬í”„ "MM:SS-MM:SS" í˜•ì‹

#### í”Œë ˆì´ì–´ í”„ë¡œí•„ í´ë ˆì„ ì‹œìŠ¤í…œ (2025-10-14 ì™„ë£Œ)
- **ë°ì´í„°ë² ì´ìŠ¤**: `player_claims` í…Œì´ë¸”, RLS ì •ì±…, í—¬í¼ í•¨ìˆ˜
- **ë°±ì—”ë“œ API**: `lib/player-claims.ts` (í´ë ˆì„ ìš”ì²­, ì¡°íšŒ, ìŠ¹ì¸/ê±°ì ˆ)
- **í”„ë¡ íŠ¸ì—”ë“œ**:
  - `components/claim-player-dialog.tsx` - í´ë ˆì„ ìš”ì²­ ë‹¤ì´ì–¼ë¡œê·¸
  - `app/players/[id]/page.tsx` - í´ë ˆì„ ë²„íŠ¼ ë° ìƒíƒœ ë°°ì§€
  - `app/admin/claims/page.tsx` - ê´€ë¦¬ì ìŠ¹ì¸ í˜ì´ì§€
- **ê¸°ëŠ¥**:
  - ìœ ì €ê°€ í”Œë ˆì´ì–´ í”„ë¡œí•„ í´ë ˆì„ ìš”ì²­ (ì†Œì…œ ë¯¸ë””ì–´, ì´ë©”ì¼ ì¸ì¦)
  - ê´€ë¦¬ì ìŠ¹ì¸/ê±°ì ˆ ì›Œí¬í”Œë¡œìš°
  - í´ë ˆì„ ìƒíƒœ ë°°ì§€ (ëŒ€ê¸° ì¤‘, ìŠ¹ì¸ë¨, Your Profile)
  - í•œ í”Œë ˆì´ì–´ë‹¹ í•˜ë‚˜ì˜ ìŠ¹ì¸ëœ í´ë ˆì„ë§Œ í—ˆìš©

#### Phase 2: ì»¤ë®¤ë‹ˆí‹° ê°•í™” (2025-10-15 ì™„ë£Œ) âœ…

**Phase 2.1: ì»¤ë®¤ë‹ˆí‹° í•¸ë“œ ì²¨ë¶€**
- **ë°ì´í„°ë² ì´ìŠ¤**: `posts` í…Œì´ë¸” `hand_id` í•„ë“œ (ì´ë¯¸ ì¡´ì¬)
- **í”„ë¡ íŠ¸ì—”ë“œ**:
  - `components/hand-search-dialog.tsx` - 4ë‹¨ê³„ í•¸ë“œ ì„ íƒ ë‹¤ì´ì–¼ë¡œê·¸
  - `app/community/page.tsx` - í•¸ë“œ ì²¨ë¶€ UI ë° ë¯¸ë¦¬ë³´ê¸°
- **ê¸°ëŠ¥**:
  - Tournament â†’ SubEvent â†’ Day â†’ Hand 4ë‹¨ê³„ ê²€ìƒ‰
  - í¬ìŠ¤íŠ¸ì— í•¸ë“œ ì²¨ë¶€
  - ì²¨ë¶€ëœ í•¸ë“œ ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œ
  - Archive í˜ì´ì§€ë¡œ ì´ë™ ë§í¬

**Phase 2.2: ë¶ë§ˆí¬ ì‹œìŠ¤í…œ** âœ…
- **ë°ì´í„°ë² ì´ìŠ¤**: `012_add_hand_bookmarks.sql` (hand_bookmarks í…Œì´ë¸”)
- **ë°±ì—”ë“œ API**: `lib/hand-bookmarks.ts` (9ê°œ í•¨ìˆ˜)
- **í”„ë¡ íŠ¸ì—”ë“œ**:
  - `components/bookmark-dialog.tsx` - ë¶ë§ˆí¬ ì¶”ê°€/ìˆ˜ì • ë‹¤ì´ì–¼ë¡œê·¸
  - `components/hand-history-detail.tsx` - ë¶ë§ˆí¬ ë²„íŠ¼ ë° ë‹¤ì´ì–¼ë¡œê·¸ í†µí•©
  - `app/bookmarks/page.tsx` - ë¶ë§ˆí¬ í˜ì´ì§€
  - `components/header.tsx` - í”„ë¡œí•„ ë©”ë‰´ì— ë¶ë§ˆí¬ ë§í¬
- **ê¸°ëŠ¥**:
  - í•¸ë“œ ë¶ë§ˆí¬ ì¶”ê°€/ì œê±° (ë‹¤ì´ì–¼ë¡œê·¸ UI)
  - í´ë”ë³„ ë¶ë§ˆí¬ ì •ë¦¬ (ê¸°ì¡´ í´ë” ì„ íƒ + ìƒˆ í´ë” ìƒì„±)
  - ë¶ë§ˆí¬ì— ë…¸íŠ¸ ì¶”ê°€ (ì„ íƒì‚¬í•­)
  - ë¶ë§ˆí¬ í¸ì§‘ ê¸°ëŠ¥ (Edit ë²„íŠ¼)
  - ë¶ë§ˆí¬ í˜ì´ì§€ì—ì„œ í´ë”ë³„ í•„í„°ë§ ë° ê´€ë¦¬
  - í—¤ë” ë©”ë‰´ì—ì„œ ë¶ë§ˆí¬ í˜ì´ì§€ ì ‘ê·¼

#### Phase 3: í•¸ë“œ ìˆ˜ì • ìš”ì²­ ì‹œìŠ¤í…œ (2025-10-15 ì™„ë£Œ) âœ…

**Phase 3.1: ë°±ì—”ë“œ - ìˆ˜ì • ìš”ì²­ ì‹œìŠ¤í…œ** âœ…
- **ë°ì´í„°ë² ì´ìŠ¤**: `017_add_hand_edit_requests.sql`
  - `hand_edit_requests` í…Œì´ë¸” (ìˆ˜ì • ì œì•ˆ ì €ì¥)
  - 4ê°€ì§€ ìˆ˜ì • ìœ í˜• (basic_info, board, players, actions)
  - ìƒíƒœ ê´€ë¦¬ (pending, approved, rejected)
  - RLS ì •ì±… (ì‚¬ìš©ì/ê´€ë¦¬ì ê¶Œí•œ)
- **ë°±ì—”ë“œ API**: `lib/hand-edit-requests.ts` (8ê°œ í•¨ìˆ˜)
  - `createEditRequest()` - ìˆ˜ì • ìš”ì²­ ìƒì„±
  - `fetchEditRequests()` - ìˆ˜ì • ìš”ì²­ ëª©ë¡ ì¡°íšŒ (ê´€ë¦¬ì)
  - `fetchUserEditRequests()` - ì‚¬ìš©ìë³„ ìš”ì²­ ì¡°íšŒ
  - `approveEditRequest()` - ìˆ˜ì • ìŠ¹ì¸ ë° í•¸ë“œ ë°ì´í„° ì ìš©
  - `rejectEditRequest()` - ìˆ˜ì • ê±°ë¶€
  - `applyEditToHand()` - í•¸ë“œ ë°ì´í„°ì— ìˆ˜ì •ì‚¬í•­ ì ìš©
  - `getHandDataForEdit()` - í•¸ë“œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

**Phase 3.2: í”„ë¡ íŠ¸ì—”ë“œ - ìˆ˜ì • ìš”ì²­ UI** âœ…
- **ì‚¬ìš©ììš©**:
  - `app/my-edit-requests/page.tsx` - ë‚´ ì œì•ˆ ëª©ë¡ í˜ì´ì§€
  - ìƒíƒœë³„ í•„í„°ë§ (ì „ì²´/ëŒ€ê¸° ì¤‘/ìŠ¹ì¸ë¨/ê±°ë¶€ë¨)
  - ê´€ë¦¬ì ì½”ë©˜íŠ¸ í‘œì‹œ
- **ê´€ë¦¬ììš©**:
  - `app/admin/edit-requests/page.tsx` - ê´€ë¦¬ì ìŠ¹ì¸ í˜ì´ì§€
  - Before/After ë¹„êµ UI
  - ìŠ¹ì¸/ê±°ë¶€ ì›Œí¬í”Œë¡œìš°

**Note**: í•¸ë“œ ìƒì„¸ í˜ì´ì§€ì˜ "ìˆ˜ì • ì œì•ˆ" ë²„íŠ¼ì€ ì•„ì§ ë¯¸êµ¬í˜„ (ë°±ì—”ë“œëŠ” ì™„ì„±)

#### Phase 4: ê´€ë¦¬ì ì‹œìŠ¤í…œ (2025-10-15 ì™„ë£Œ) âœ…

**Phase 4.1: ê¶Œí•œ ë° ì—­í•  ê´€ë¦¬** âœ…
- **ë°ì´í„°ë² ì´ìŠ¤**: `015_add_admin_system.sql`
  - `users.role` ì»¬ëŸ¼ (user/moderator/admin)
  - ë°´ ì‹œìŠ¤í…œ (is_banned, ban_reason, banned_at)
  - `admin_logs` í…Œì´ë¸” (ê´€ë¦¬ì í™œë™ ë¡œê·¸)
- **ë°±ì—”ë“œ API**: `lib/admin.ts` (15ê°œ í•¨ìˆ˜)
  - `isAdmin()` - ê´€ë¦¬ì ê¶Œí•œ ì²´í¬
  - `getDashboardStats()` - ëŒ€ì‹œë³´ë“œ í†µê³„
  - `getRecentActivity()` - ìµœê·¼ ê´€ë¦¬ì í™œë™
  - `getUsers()` - ì‚¬ìš©ì ëª©ë¡ (í˜ì´ì§€ë„¤ì´ì…˜, ê²€ìƒ‰)
  - `banUser()`, `unbanUser()` - ì‚¬ìš©ì ë°´/ì–¸ë°´
  - `changeUserRole()` - ì—­í•  ë³€ê²½
  - `deletePost()`, `deleteComment()` - ì½˜í…ì¸  ì‚­ì œ
  - `logAdminAction()` - ê´€ë¦¬ì í™œë™ ë¡œê·¸

**Phase 4.2: ê´€ë¦¬ì í˜ì´ì§€** âœ…
- **í”„ë¡ íŠ¸ì—”ë“œ**:
  - `app/admin/dashboard/page.tsx` - ëŒ€ì‹œë³´ë“œ (í†µê³„ ìš”ì•½)
  - `app/admin/users/page.tsx` - ì‚¬ìš©ì ê´€ë¦¬ (ê²€ìƒ‰, ë°´, ì—­í•  ë³€ê²½)
  - `app/admin/claims/page.tsx` - í”Œë ˆì´ì–´ í´ë ˆì„ ìŠ¹ì¸
  - `app/admin/edit-requests/page.tsx` - í•¸ë“œ ìˆ˜ì • ìš”ì²­ ê´€ë¦¬
  - `app/admin/content/page.tsx` - ì½˜í…ì¸  ì‹ ê³  ê´€ë¦¬

#### Phase 5: ì½˜í…ì¸  ì‹ ê³  ì‹œìŠ¤í…œ (2025-10-15 ì™„ë£Œ) âœ…

**Phase 5.1: ì‹ ê³  ì‹œìŠ¤í…œ** âœ…
- **ë°ì´í„°ë² ì´ìŠ¤**: `016_add_content_moderation.sql`
  - `reports` í…Œì´ë¸” (í¬ìŠ¤íŠ¸/ëŒ“ê¸€ ì‹ ê³ )
  - ì‹ ê³  ì‚¬ìœ  (spam, harassment, inappropriate, misinformation, other)
  - `posts.is_hidden`, `comments.is_hidden` ì»¬ëŸ¼
- **ë°±ì—”ë“œ API**: `lib/content-moderation.ts` (10ê°œ í•¨ìˆ˜)
  - `createReport()` - ì‹ ê³  ìƒì„±
  - `fetchReports()` - ì‹ ê³  ëª©ë¡ ì¡°íšŒ (ê´€ë¦¬ì)
  - `approveReport()` - ì‹ ê³  ìŠ¹ì¸ (ì½˜í…ì¸  ìˆ¨ê¹€)
  - `rejectReport()` - ì‹ ê³  ê±°ë¶€
  - `hideContent()`, `unhideContent()` - ì½˜í…ì¸  ìˆ¨ê¹€/í‘œì‹œ
  - `deleteContent()` - ì½˜í…ì¸  ì‚­ì œ
  - `fetchAllPosts()`, `fetchAllComments()` - ì „ì²´ ì½˜í…ì¸  ì¡°íšŒ

#### Phase 6: ìœ ì € í”„ë¡œí•„ ê³ ë„í™” (2025-10-15 ì™„ë£Œ) âœ…

**Phase 6.1: í”„ë¡œí•„ í™•ì¥** âœ…
- **ë°ì´í„°ë² ì´ìŠ¤**: `014_add_user_profile_fields.sql`
  - ì†Œì…œ ë§í¬ (location, website, twitter_handle, instagram_handle)
  - í”„ë¡œí•„ ê°€ì‹œì„± (public/private/friends)
  - í†µê³„ ìºì‹± (posts_count, comments_count, likes_received)
  - ìë™ í†µê³„ ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±°
- **ë°±ì—”ë“œ API**: `lib/user-profile.ts` (12ê°œ í•¨ìˆ˜)
  - `getProfile()`, `getCurrentUserProfile()` - í”„ë¡œí•„ ì¡°íšŒ
  - `updateProfile()` - í”„ë¡œí•„ ìˆ˜ì •
  - `checkNicknameAvailable()` - ë‹‰ë„¤ì„ ì¤‘ë³µ ì²´í¬
  - `fetchUserPosts()`, `fetchUserComments()`, `fetchUserBookmarks()` - í™œë™ ì¡°íšŒ
  - `uploadAvatar()` - ì•„ë°”íƒ€ ì—…ë¡œë“œ

**Phase 6.2: í”„ë¡œí•„ í˜ì´ì§€** âœ…
- **í”„ë¡ íŠ¸ì—”ë“œ**:
  - `app/profile/page.tsx` - ë‚´ í”„ë¡œí•„ í˜ì´ì§€
  - `app/profile/[id]/page.tsx` - ë‹¤ë¥¸ ìœ ì € í”„ë¡œí•„ í˜ì´ì§€
  - í™œë™ ìš”ì•½ (í¬ìŠ¤íŠ¸, ëŒ“ê¸€, ë¶ë§ˆí¬)
  - ì†Œì…œ ë§í¬ í‘œì‹œ

#### Phase 7: ì»¤ë®¤ë‹ˆí‹° ê²€ìƒ‰ ê°•í™” (2025-10-15 ì™„ë£Œ) âœ…

**Phase 7.1: Full-Text Search** âœ…
- **ë°ì´í„°ë² ì´ìŠ¤**: `013_add_community_search.sql`
  - `posts.search_vector` ì»¬ëŸ¼ (tsvector)
  - GIN ì¸ë±ìŠ¤ (ì„±ëŠ¥ ìµœì í™”)
  - ìë™ search_vector ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±°
  - ì œëª©/ë‚´ìš© ê°€ì¤‘ì¹˜ ê²€ìƒ‰ (ì œëª© ìš°ì„ )
  - ì‘ì„±ì/ë‚ ì§œ/ì¹´í…Œê³ ë¦¬ ì¸ë±ìŠ¤

#### Supabase CLI ì„¤ì • (2025-10-15 ì™„ë£Œ)
- **ì„¤ì • íŒŒì¼**: `supabase/config.toml`
- **ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬**: `000_init_migration_history.sql`
- **íŒŒì¼ëª… í‘œì¤€í™”**: ëª¨ë“  ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ì„ íƒ€ì„ìŠ¤íƒ¬í”„ í˜•ì‹ìœ¼ë¡œ ë³€ê²½
- **í™˜ê²½ ë³€ìˆ˜**: `.env.example` í…œí”Œë¦¿ ìƒì„±
- **ìƒíƒœ**: Local/Remote ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë²½ ë™ê¸°í™”

#### Phase 1: í•¸ë“œ ìƒí˜¸ì‘ìš© ê¸°ë³¸ ê¸°ëŠ¥ (2025-10-15 í™•ì¸ ì™„ë£Œ)

**Phase 1.1: í•¸ë“œ ì¢‹ì•„ìš”/ì‹«ì–´ìš” ì‹œìŠ¤í…œ** âœ…
- **ë°±ì—”ë“œ**: `006_add_hand_likes.sql` (hand_likes í…Œì´ë¸”, íŠ¸ë¦¬ê±°)
- **API**: `lib/hand-likes.ts` (4ê°œ í•¨ìˆ˜)
- **UI**:
  - `hand-history-detail.tsx` (line 239-259) - ì¢‹ì•„ìš”/ì‹«ì–´ìš” ë²„íŠ¼
  - `hand-list-accordion.tsx` (line 137-148) - ì¹´ìš´íŠ¸ í‘œì‹œ
- **ê¸°ëŠ¥**:
  - ì¢‹ì•„ìš”/ì‹«ì–´ìš” í† ê¸€ (ì¶”ê°€/ë³€ê²½/ì·¨ì†Œ)
  - Optimistic Update
  - ì‹¤ì‹œê°„ ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸

**Phase 1.2: í•¸ë“œ ëŒ“ê¸€ ì‹œìŠ¤í…œ** âœ…
- **ì»´í¬ë„ŒíŠ¸**: `components/hand-comments.tsx` (ì™„ì „í•œ ëŒ“ê¸€ ì‹œìŠ¤í…œ)
- **API**: `lib/supabase-community.ts` (ëŒ“ê¸€ ê´€ë ¨ í•¨ìˆ˜)
- **í†µí•©**: `hand-history-detail.tsx` (line 469-489)
- **ê¸°ëŠ¥**:
  - ëŒ“ê¸€ ì‘ì„± ë° ëª©ë¡ í‘œì‹œ
  - ë‹µê¸€ ê¸°ëŠ¥ (ì¬ê·€ì  ëŒ€ëŒ“ê¸€)
  - ëŒ“ê¸€ ì¢‹ì•„ìš”
  - ì‹¤ì‹œê°„ ëŒ“ê¸€ ê°œìˆ˜ ì—…ë°ì´íŠ¸

### â³ ë‹¤ìŒ ì‘ì—…

#### ë‹¤ìŒ ìš°ì„ ìˆœìœ„
1. **í•¸ë“œ ìˆ˜ì • ì œì•ˆ UI ì§„ì…ì  ì¶”ê°€** (ìš°ì„ ìˆœìœ„: ë†’ìŒ, 2-3ì‹œê°„)
   - í•¸ë“œ ìƒì„¸ í˜ì´ì§€ì— "ìˆ˜ì • ì œì•ˆ" ë²„íŠ¼ ì¶”ê°€
   - ìˆ˜ì • ì œì•ˆ ë‹¤ì´ì–¼ë¡œê·¸ êµ¬í˜„ (4ë‹¨ê³„ í¼)
   - Before/After ë¹„êµ ë¯¸ë¦¬ë³´ê¸°
   - **Note**: ë°±ì—”ë“œëŠ” ì™„ì„±, í”„ë¡ íŠ¸ì—”ë“œ ì§„ì…ì ë§Œ ì¶”ê°€ í•„ìš”

2. **ì˜ìƒ ë¶„ì„ í…ŒìŠ¤íŠ¸ ë° ê°œì„ ** (ìš°ì„ ìˆœìœ„: ì¤‘, 4-6ì‹œê°„)
   - ì‹¤ì œ í¬ì»¤ ì˜ìƒìœ¼ë¡œ ë¶„ì„ í…ŒìŠ¤íŠ¸
   - ê°ì§€ ì •í™•ë„ ì¸¡ì • ë° ê°œì„ 
   - ì˜¤ë¥˜ ì¼€ì´ìŠ¤ ìˆ˜ì§‘ ë° í”„ë¡¬í”„íŠ¸ ê°œì„ 

3. **í”Œë ˆì´ì–´ í†µê³„ ê³ ë„í™”** (ìš°ì„ ìˆœìœ„: ì¤‘, 3-5ì‹œê°„)
   - ë” ë§ì€ í†µê³„ ì§€í‘œ ì¶”ê°€
   - ì‹œê°„ëŒ€ë³„ ì„±ê³¼ ë¶„ì„
   - ê³ ê¸‰ ì°¨íŠ¸ ë° ì‹œê°í™”

4. **ì¶”ê°€ ê³ ê¸‰ ê¸°ëŠ¥** (ìš°ì„ ìˆœìœ„: ë‚®)
   - ì•Œë¦¼ ì‹œìŠ¤í…œ (ëŒ“ê¸€, ìˆ˜ì • ì œì•ˆ ì‘ë‹µ)
   - í•¸ë“œ íƒœê·¸ ì‹œìŠ¤í…œ
   - í•¸ë“œ ë¹„êµ ê¸°ëŠ¥ (Side-by-Side)

---

## ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ
- **í”„ë ˆì„ì›Œí¬**: Next.js 14 (App Router)
- **UI ë¼ì´ë¸ŒëŸ¬ë¦¬**: shadcn/ui (50+ ì»´í¬ë„ŒíŠ¸)
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS
- **ìƒíƒœ ê´€ë¦¬**: Zustand (`filter-store.ts`)
- **ì˜ìƒ ì²˜ë¦¬**: FFmpeg.wasm (ë¸Œë¼ìš°ì € ë‚´ í”„ë ˆì„ ì¶”ì¶œ)
- **ì°¨íŠ¸**: Recharts

### ë°±ì—”ë“œ (ì™„ì „ ì„œë²„ë¦¬ìŠ¤)
- **í”Œë«í¼**: Supabase
  - PostgreSQL (ë°ì´í„°ë² ì´ìŠ¤)
  - Storage (ì˜ìƒ íŒŒì¼)
  - Realtime (ì‹¤ì‹œê°„ ì§„í–‰ë¥ )
  - Auth (Google OAuth)
- **API**: REST (Next.js API Routes)

### AI/ML
- **ì˜ìƒ ë¶„ì„**: Claude Vision API (Anthropic)
  - í•¸ë“œ ê²½ê³„ ê°ì§€
  - í•¸ë“œ ì‹œí€€ìŠ¤ ë¶„ì„
- **ìì—°ì–´ ê²€ìƒ‰**: Claude 3.5 Sonnet

---

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
ggvault/
â”œâ”€â”€ app/                      # Next.js í˜ì´ì§€ ë° API
â”‚   â”œâ”€â”€ page.tsx              # í™ˆ
â”‚   â”œâ”€â”€ archive/page.tsx      # Archive (Tournament íŠ¸ë¦¬)
â”‚   â”œâ”€â”€ search/page.tsx       # ê²€ìƒ‰
â”‚   â”œâ”€â”€ players/              # í”Œë ˆì´ì–´
â”‚   â”œâ”€â”€ community/page.tsx    # ì»¤ë®¤ë‹ˆí‹°
â”‚   â”œâ”€â”€ auth/                 # ë¡œê·¸ì¸/OAuth
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ analyze-video/    # ì˜ìƒ ë¶„ì„
â”‚       â”œâ”€â”€ extract-youtube-frames/
â”‚       â””â”€â”€ natural-search/   # AI ìì—°ì–´ ê²€ìƒ‰
â”‚
â”œâ”€â”€ components/               # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ header.tsx            # í—¤ë” (ë„¤ë¹„ê²Œì´ì…˜)
â”‚   â”œâ”€â”€ auth-provider.tsx     # ì¸ì¦ ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ video-player.tsx      # ì˜ìƒ í”Œë ˆì´ì–´
â”‚   â”œâ”€â”€ hand-list-accordion.tsx  # í•¸ë“œ ëª©ë¡ Accordion
â”‚   â”œâ”€â”€ hand-history-detail.tsx  # í•¸ë“œ ìƒì„¸
â”‚   â”œâ”€â”€ analyze-dialog.tsx    # ì˜ìƒ ë¶„ì„ ë‹¤ì´ì–¼ë¡œê·¸
â”‚   â”œâ”€â”€ filter-panel.tsx      # ê³ ê¸‰ ê²€ìƒ‰ í•„í„°
â”‚   â”œâ”€â”€ player-charts.tsx     # í”Œë ˆì´ì–´ ì°¨íŠ¸ (ë™ì  ì„í¬íŠ¸)
â”‚   â”œâ”€â”€ claim-player-dialog.tsx  # í”Œë ˆì´ì–´ í´ë ˆì„ ë‹¤ì´ì–¼ë¡œê·¸
â”‚   â””â”€â”€ ui/                   # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚
â”œâ”€â”€ lib/                      # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ supabase.ts           # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ auth.ts               # ì¸ì¦ í•¨ìˆ˜
â”‚   â”œâ”€â”€ queries.ts            # ë³µì¡í•œ ì¿¼ë¦¬
â”‚   â”œâ”€â”€ filter-store.ts       # ê²€ìƒ‰ í•„í„° ìƒíƒœ
â”‚   â”œâ”€â”€ hand-boundary-detector.ts  # í•¸ë“œ ê²½ê³„ ê°ì§€
â”‚   â”œâ”€â”€ hand-sequence-analyzer.ts  # ì‹œí€€ìŠ¤ ë¶„ì„
â”‚   â”œâ”€â”€ player-claims.ts      # í”Œë ˆì´ì–´ í´ë ˆì„ API
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ hand-history.ts   # HandHistory íƒ€ì…
â”‚
â”œâ”€â”€ supabase/migrations/      # ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (11ê°œ)
â”œâ”€â”€ scripts/                  # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ delete-all-data.ts    # ì „ì²´ ë°ì´í„° ì‚­ì œ
â”‚
â”œâ”€â”€ CLAUDE.md                 # ì´ íŒŒì¼ (í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸)
â”œâ”€â”€ WORK_LOG.md               # ì‘ì—… ë¡œê·¸
â”œâ”€â”€ ROADMAP.md                # ê°œë°œ ë¡œë“œë§µ
â”œâ”€â”€ PAGES_STRUCTURE.md        # í˜ì´ì§€ êµ¬ì¡°
â””â”€â”€ DIRECTORY_STRUCTURE.md    # ë””ë ‰í† ë¦¬ êµ¬ì¡°
```

---

## ì°¸ê³  ë¬¸ì„œ

### í”„ë¡œì íŠ¸ ë¬¸ì„œ
- **ê°œë°œ ë¡œë“œë§µ**: `ROADMAP.md` (Phase 0-4 ê³„íš)
- **í˜ì´ì§€ êµ¬ì¡°**: `PAGES_STRUCTURE.md` (ëª¨ë“  í˜ì´ì§€ ì„¤ëª…)
- **ë””ë ‰í† ë¦¬ êµ¬ì¡°**: `DIRECTORY_STRUCTURE.md` (íŒŒì¼ êµ¬ì¡° ìƒì„¸)
- **ì‘ì—… ë¡œê·¸**: `WORK_LOG.md` (ì¼ë³„ ì‘ì—… ê¸°ë¡)

### ì„¤ì • ê°€ì´ë“œ
- **í™˜ê²½ ì„¤ì •**: `../SETUP.md` (Supabase, Claude API ì„¤ì •)

### API ë¬¸ì„œ
- **í•¸ë“œ Import API**: `docs/HAND_IMPORT_API.md`
- **ì˜ìƒ ì†ŒìŠ¤ ê°€ì´ë“œ**: `docs/VIDEO_SOURCES.md`

---

## íƒ€ì´í¬ê·¸ë˜í”¼ ì‹œìŠ¤í…œ

```css
/* ì œëª© (Title) */
.text-title-lg    /* 24px, Bold (Desktop) */
.text-title       /* 18px, Semibold (Mobile) */

/* ë³¸ë¬¸ (Body) */
.text-body-lg     /* 16px, Regular */
.text-body        /* 14px, Regular */

/* ë³´ì¡° ì •ë³´ (Caption) */
.text-caption-lg  /* 14px, Regular/Medium */
.text-caption     /* 12px, Regular/Medium */
```

---

## ë‹¤ìŒ ì„¸ì…˜ ì‹œì‘ ì‹œ

1. `WORK_LOG.md` í™•ì¸ (ìµœê·¼ ì‘ì—… ë‚´ìš©)
2. http://localhost:3000 ì—ì„œ ê°œë°œ ì„œë²„ ì‹¤í–‰
3. Supabase Studioì—ì„œ `011_add_player_claims.sql` ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ (ì•„ì§ ë¯¸ì‹¤í–‰)
4. í”Œë ˆì´ì–´ í´ë ˆì„ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-10-15
**ë¬¸ì„œ ë²„ì „**: 2.0
**í”„ë¡œì íŠ¸ ìƒíƒœ**: Phase 0-7 ì™„ë£Œ, ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ ì™„ì„± ğŸ‰

**ìµœê·¼ ì™„ë£Œ ì‘ì—… (2025-10-15 ì„¸ì…˜ 8)**:
- âœ… Phase 3: í•¸ë“œ ìˆ˜ì • ìš”ì²­ ì‹œìŠ¤í…œ (ë°±ì—”ë“œ ì™„ì„±)
- âœ… Phase 4: ê´€ë¦¬ì ì‹œìŠ¤í…œ (ì—­í• , ë°´, í™œë™ ë¡œê·¸)
- âœ… Phase 5: ì½˜í…ì¸  ì‹ ê³  ì‹œìŠ¤í…œ (í¬ìŠ¤íŠ¸/ëŒ“ê¸€ ì‹ ê³ )
- âœ… Phase 6: ìœ ì € í”„ë¡œí•„ ê³ ë„í™” (ì†Œì…œ ë§í¬, í†µê³„ ìºì‹±)
- âœ… Phase 7: ì»¤ë®¤ë‹ˆí‹° ê²€ìƒ‰ ê°•í™” (Full-Text Search)
- âœ… ê´€ë¦¬ì í˜ì´ì§€ 5ê°œ ì¶”ê°€ (dashboard, users, claims, content, edit-requests)
- âœ… ìœ ì € í˜ì´ì§€ 3ê°œ ì¶”ê°€ (profile, profile/[id], my-edit-requests)
- âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ 5ê°œ ì¶”ê°€ (013-017)

**ì´ì „ ì„¸ì…˜ ì™„ë£Œ ì‘ì—…**:
- âœ… Phase 0: ì¸ì¦ ì‹œìŠ¤í…œ (Google OAuth)
- âœ… Phase 1: í•¸ë“œ ì¢‹ì•„ìš”/ì‹«ì–´ìš” + ëŒ“ê¸€ ì‹œìŠ¤í…œ
- âœ… Phase 2: ì»¤ë®¤ë‹ˆí‹° í•¸ë“œ ì²¨ë¶€ + ë¶ë§ˆí¬ ì‹œìŠ¤í…œ
- âœ… ì˜ìƒ ë¶„ì„ (Claude Vision 2ë‹¨ê³„ íŒŒì´í”„ë¼ì¸)
- âœ… Supabase CLI ì„¤ì • ë° ë§ˆì´ê·¸ë ˆì´ì…˜ ë™ê¸°í™”

**ë‹¤ìŒ ì‘ì—…**:
- â³ í•¸ë“œ ìˆ˜ì • ì œì•ˆ UI ì§„ì…ì  ì¶”ê°€ (2-3ì‹œê°„)
- â³ ì˜ìƒ ë¶„ì„ í…ŒìŠ¤íŠ¸ ë° ê°œì„ 
- â³ í”Œë ˆì´ì–´ í†µê³„ ê³ ë„í™”
