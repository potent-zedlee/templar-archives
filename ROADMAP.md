# Templar Archives ê°œë°œ ë¡œë“œë§µ

> ë‹¨ê³„ë³„ ê¸°ëŠ¥ êµ¬í˜„ ê³„íš ë° ìš°ì„ ìˆœìœ„

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-10-19
**í˜„ì¬ Phase**: Phase 0-15 ì™„ë£Œ ğŸ‰

---

## ğŸ¯ ì „ì²´ ê°œìš”

Templar ArchivesëŠ” í¬ì»¤ í•¸ë“œ ì•„ì¹´ì´ë¸Œì™€ ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼ì…ë‹ˆë‹¤. ì´ ë¡œë“œë§µì€ í•µì‹¬ ê¸°ëŠ¥ë¶€í„° ê³ ê¸‰ ê¸°ëŠ¥ê¹Œì§€ ë‹¨ê³„ë³„ë¡œ êµ¬í˜„ ê³„íšì„ ì œì‹œí•©ë‹ˆë‹¤.

---

## âœ… ì™„ë£Œëœ Phase

### Phase 0: ì¸ì¦ ì‹œìŠ¤í…œ (2025-10-12)
**ì†Œìš” ì‹œê°„**: 4ì‹œê°„
- Google OAuth ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ
- ì „ì—­ ì¸ì¦ ìƒíƒœ ê´€ë¦¬ (`useAuth` í›…)
- ë¡œê·¸ì¸/ë¹„ë¡œê·¸ì¸ UI ë¶„ê¸°, ë³´í˜¸ëœ ì•¡ì…˜

**í•µì‹¬ íŒŒì¼**:
- `lib/auth.ts`, `components/auth-provider.tsx`
- `app/auth/login/page.tsx`, `app/auth/callback/page.tsx`

---

### Phase 1: í•¸ë“œ ìƒí˜¸ì‘ìš© (2025-10-15 í™•ì¸)
**ì†Œìš” ì‹œê°„**: ì´ë¯¸ êµ¬í˜„ë¨

#### Phase 1.1: í•¸ë“œ ì¢‹ì•„ìš”/ì‹«ì–´ìš”
- `hand_likes` í…Œì´ë¸”, ìë™ ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±°
- `lib/hand-likes.ts` (4ê°œ í•¨ìˆ˜)
- UI: `hand-history-detail.tsx`, `hand-list-accordion.tsx`
- Optimistic Update, ë¡œê·¸ì¸ ì²´í¬

#### Phase 1.2: í•¸ë“œ ëŒ“ê¸€ ì‹œìŠ¤í…œ
- `HandComments` ì»´í¬ë„ŒíŠ¸ (ì¬ê·€ì  ëŒ€ëŒ“ê¸€)
- ëŒ“ê¸€ ì‘ì„± í¼, ëŒ“ê¸€ ì¢‹ì•„ìš”
- ì‹¤ì‹œê°„ ëŒ“ê¸€ ê°œìˆ˜ ì—…ë°ì´íŠ¸

**í•µì‹¬ íŒŒì¼**:
- `components/hand-comments.tsx`
- `lib/supabase-community.ts`

---

### Phase 2: ì»¤ë®¤ë‹ˆí‹° ê°•í™” (2025-10-15)
**ì†Œìš” ì‹œê°„**: 5-6ì‹œê°„

#### Phase 2.1: í¬ëŸ¼ í•¸ë“œ ì²¨ë¶€ (3ì‹œê°„)
- í•¸ë“œ ê²€ìƒ‰ ëª¨ë‹¬ (Tournament â†’ SubEvent â†’ Day â†’ Hand, 4ë‹¨ê³„)
- ì„ íƒëœ í•¸ë“œ ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œ
- Archive í˜ì´ì§€ë¡œ ì´ë™ ë§í¬

#### Phase 2.2: ë¶ë§ˆí¬ ì‹œìŠ¤í…œ (2-3ì‹œê°„)
- `hand_bookmarks` í…Œì´ë¸”, RLS ì •ì±…
- `lib/hand-bookmarks.ts` (9ê°œ í•¨ìˆ˜)
- ë¶ë§ˆí¬ í˜ì´ì§€ (`/bookmarks`), í´ë” ê¸°ëŠ¥

**í•µì‹¬ íŒŒì¼**:
- `components/hand-search-dialog.tsx`, `components/bookmark-dialog.tsx`
- `app/bookmarks/page.tsx`

---

### Phase 3: í•¸ë“œ ìˆ˜ì • ìš”ì²­ ì‹œìŠ¤í…œ (2025-10-15) âœ…
**ì†Œìš” ì‹œê°„**: ì™„ì„±

#### ì™„ë£Œ ê¸°ëŠ¥
- `hand_edit_requests` í…Œì´ë¸” (4ê°€ì§€ ìˆ˜ì • ìœ í˜•: basic_info, board, players, actions)
- `lib/hand-edit-requests.ts` (8ê°œ í•¨ìˆ˜)
- ìƒíƒœ ê´€ë¦¬ (pending, approved, rejected)
- 3ë‹¨ê³„ ìˆ˜ì • ì œì•ˆ ë‹¤ì´ì–¼ë¡œê·¸ (`EditRequestDialog`)
- í•¸ë“œ ìƒì„¸ í˜ì´ì§€ "ìˆ˜ì • ì œì•ˆ" ë²„íŠ¼ í†µí•©
- ë‚´ ì œì•ˆ ëª©ë¡ í˜ì´ì§€ (`/my-edit-requests`)
- ê´€ë¦¬ì ìŠ¹ì¸ í˜ì´ì§€ (`/admin/edit-requests`, Before/After ë¹„êµ)

**í•µì‹¬ íŒŒì¼**:
- `components/edit-request-dialog.tsx`
- `lib/hand-edit-requests.ts`
- `supabase/migrations/017_add_hand_edit_requests.sql`

---

### Phase 4: ê´€ë¦¬ì ì‹œìŠ¤í…œ (2025-10-15)
**ì†Œìš” ì‹œê°„**: ì™„ì„±

- ì—­í•  ê´€ë¦¬ (user/moderator/admin), ë°´ ì‹œìŠ¤í…œ
- `lib/admin.ts` (15ê°œ í•¨ìˆ˜)
- ê´€ë¦¬ì í˜ì´ì§€ 5ê°œ (dashboard, users, claims, edit-requests, content)

**í•µì‹¬ íŒŒì¼**:
- `app/admin/dashboard/page.tsx`, `app/admin/users/page.tsx`
- `supabase/migrations/015_add_admin_system.sql`

---

### Phase 5: ì½˜í…ì¸  ì‹ ê³  ì‹œìŠ¤í…œ (2025-10-15)
**ì†Œìš” ì‹œê°„**: ì™„ì„±

- `reports` í…Œì´ë¸” (5ê°€ì§€ ì‹ ê³  ì‚¬ìœ )
- `lib/content-moderation.ts` (10ê°œ í•¨ìˆ˜)
- ê´€ë¦¬ì í˜ì´ì§€ (`/admin/content`)

**í•µì‹¬ íŒŒì¼**:
- `supabase/migrations/016_add_content_moderation.sql`

---

### Phase 6: ìœ ì € í”„ë¡œí•„ ê³ ë„í™” (2025-10-15)
**ì†Œìš” ì‹œê°„**: ì™„ì„±

- ì†Œì…œ ë§í¬, í”„ë¡œí•„ ê°€ì‹œì„± (public/private/friends)
- í†µê³„ ìºì‹± (ìë™ ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±° 3ê°œ)
- `lib/user-profile.ts` (12ê°œ í•¨ìˆ˜)
- í”„ë¡œí•„ í˜ì´ì§€ 2ê°œ (`/profile`, `/profile/[id]`)

**í•µì‹¬ íŒŒì¼**:
- `supabase/migrations/014_add_user_profile_fields.sql`
- `app/profile/page.tsx`

---

### Phase 7: ì»¤ë®¤ë‹ˆí‹° ê²€ìƒ‰ ê°•í™” (2025-10-15)
**ì†Œìš” ì‹œê°„**: ì™„ì„±

- Full-Text Search (tsvector, GIN ì¸ë±ìŠ¤)
- ì œëª©/ë‚´ìš© ê°€ì¤‘ì¹˜ ê²€ìƒ‰ (ì œëª© ìš°ì„ )
- ìë™ search_vector ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±°

**í•µì‹¬ íŒŒì¼**:
- `supabase/migrations/013_add_community_search.sql`

---

### Phase 8: Archive Folder Navigation (2025-10-16) âœ…
- Google Drive ìŠ¤íƒ€ì¼ í´ë” ë„¤ë¹„ê²Œì´ì…˜
- ArchiveBreadcrumb, ArchiveFolderList ì»´í¬ë„ŒíŠ¸

---

### Phase 9: ì½”ë“œ í’ˆì§ˆ ë° ì•„í‚¤í…ì²˜ ê°œì„  (2025-10-18) âœ…
- Archive í˜ì´ì§€ ë¦¬íŒ©í† ë§ (1,733ì¤„ â†’ 88ì¤„, -95%)
- Zustand stores ë„ì… (780ì¤„)
- íƒ€ì… ì‹œìŠ¤í…œ êµ¬ì¶• (114ê°œ `any` ì œê±°)

---

### Phase 10: ì„±ëŠ¥ ìµœì í™” (2025-10-18) âœ…
- React ë©”ëª¨ì´ì œì´ì…˜ (useCallback, React.memo)
- ë²ˆë“¤ ë¶„ì„ ë„êµ¬ ì„¤ì •

---

### Phase 11: UX/UI ê°œì„  (2025-10-18) âœ…
- Error Boundary ì‹œìŠ¤í…œ
- Toast í†µí•© ìœ í‹¸ë¦¬í‹°
- Loading ì»´í¬ë„ŒíŠ¸

---

### Phase 12: í…ŒìŠ¤íŒ… ì „ëµ ìˆ˜ë¦½ (2025-10-18) âœ…
- E2E í…ŒìŠ¤íŠ¸ (Playwright, 13ê°œ)
- ìœ ë‹› í…ŒìŠ¤íŠ¸ (Vitest, 40+ê°œ)
- CI/CD íŒŒì´í”„ë¼ì¸ (GitHub Actions)

---

### Phase 13: ë³´ì•ˆ ê°•í™” (2025-10-18) âœ…
- SQL/XSS ë°©ì§€ ìœ í‹¸ë¦¬í‹° (900+ ì¤„)
- Zod ì…ë ¥ ê²€ì¦ ì‹œìŠ¤í…œ

---

### Phase 14: Archive UI Redesign (2025-10-19) âœ…
- ìˆ˜í‰ ë¡œê³  ë°” (Netflix ìŠ¤íƒ€ì¼)
- í•„í„° ë²„íŠ¼ ì¤‘ë³µ ì œê±°

---

### Phase 15: ë¡œê³  ê´€ë¦¬ ì‹œìŠ¤í…œ (2025-10-19) âœ…
- ì‹¤ì œ ë¡œê³  12ê°œ ë‹¤ìš´ë¡œë“œ
- ìë™ í™•ì¥ì ê°ì§€ ì‹œìŠ¤í…œ

---

## ğŸ“Š ìš°ì„ ìˆœìœ„ ìš”ì•½

| Phase | ê¸°ëŠ¥ | ìš°ì„ ìˆœìœ„ | ìƒíƒœ | ì™„ë£Œì¼ |
|-------|------|----------|------|--------|
| Phase 0 | ì¸ì¦ ì‹œìŠ¤í…œ | â­â­â­â­â­ | âœ… | 2025-10-12 |
| Phase 1 | í•¸ë“œ ìƒí˜¸ì‘ìš© | â­â­â­â­â­ | âœ… | 2025-10-15 |
| Phase 2 | ì»¤ë®¤ë‹ˆí‹° ê°•í™” | â­â­â­â­ | âœ… | 2025-10-15 |
| Phase 3 | í•¸ë“œ ìˆ˜ì • ìš”ì²­ | â­â­â­â­ | âœ… | 2025-10-15 |
| Phase 4 | ê´€ë¦¬ì ì‹œìŠ¤í…œ | â­â­â­â­ | âœ… | 2025-10-15 |
| Phase 5 | ì½˜í…ì¸  ì‹ ê³  | â­â­â­â­ | âœ… | 2025-10-15 |
| Phase 6 | ìœ ì € í”„ë¡œí•„ | â­â­â­â­ | âœ… | 2025-10-15 |
| Phase 7 | ì»¤ë®¤ë‹ˆí‹° ê²€ìƒ‰ | â­â­â­ | âœ… | 2025-10-15 |
| Phase 8 | Folder Navigation | â­â­â­ | âœ… | 2025-10-16 |
| Phase 9 | ì½”ë“œ í’ˆì§ˆ | â­â­â­â­ | âœ… | 2025-10-18 |
| Phase 10 | ì„±ëŠ¥ ìµœì í™” | â­â­â­ | âœ… | 2025-10-18 |
| Phase 11 | UX/UI ê°œì„  | â­â­â­ | âœ… | 2025-10-18 |
| Phase 12 | í…ŒìŠ¤íŒ… | â­â­â­â­ | âœ… | 2025-10-18 |
| Phase 13 | ë³´ì•ˆ ê°•í™” | â­â­â­â­ | âœ… | 2025-10-18 |
| Phase 14 | Archive Redesign | â­â­â­ | âœ… | 2025-10-19 |
| Phase 15 | ë¡œê³  ê´€ë¦¬ | â­â­ | âœ… | 2025-10-19 |

---

## ğŸ¯ ê¶Œì¥ êµ¬í˜„ ìŠ¤ì¼€ì¤„

### Week 1: ì¸ì¦ & í•¸ë“œ ìƒí˜¸ì‘ìš© âœ…
- Day 1-2: Phase 0 (ì¸ì¦)
- Day 3-5: Phase 1 (ì¢‹ì•„ìš”, ëŒ“ê¸€)

### Week 2: ì»¤ë®¤ë‹ˆí‹° ê°•í™” âœ…
- Day 1-3: Phase 2 (í•¸ë“œ ì²¨ë¶€, ë¶ë§ˆí¬)
- Day 4-5: í…ŒìŠ¤íŠ¸ ë° ë²„ê·¸ ìˆ˜ì •

### Week 3-4: ê³ ê¸‰ ê¸°ëŠ¥ âœ…
- Day 1-10: Phase 3-7 ì™„ë£Œ

### Week 5+: ê³ ê¸‰ ê¸°ëŠ¥ (ì™„ë£Œ) âœ…
- Phase 8-15 ì™„ë£Œ (í´ë” ë„¤ë¹„ê²Œì´ì…˜, ì½”ë“œ í’ˆì§ˆ, ì„±ëŠ¥, í…ŒìŠ¤íŒ…, ë³´ì•ˆ, UI ê°œì„ )

---

## ğŸ“ ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë³€ê²½ ë‚´ìš© |
|------|-----------|
| 2025-10-12 | ë¡œë“œë§µ ìµœì´ˆ ì‘ì„±, Phase 0 ì™„ë£Œ |
| 2025-10-15 | Phase 1-7 ì™„ë£Œ, ë¬¸ì„œ ì—…ë°ì´íŠ¸ |
| 2025-10-16 (ì„¸ì…˜ 11) | ë¡œë“œë§µ ìµœì í™”, Phase 8 ì™„ë£Œ |
| 2025-10-16 (ì„¸ì…˜ 12) | Phase 3 ì™„ë£Œ, ë¬¸ì„œ ì •ë¦¬ |
| 2025-10-18 | Phase 9-13 ì™„ë£Œ (ì½”ë“œ í’ˆì§ˆ, ì„±ëŠ¥, í…ŒìŠ¤íŒ…, ë³´ì•ˆ) |
| 2025-10-19 | Phase 14-15 ì™„ë£Œ (UI Redesign, ë¡œê³  ê´€ë¦¬) |

---

**ë‹¤ìŒ ì‘ì—…** (ì„ íƒì ):
- ì•Œë¦¼ ì‹œìŠ¤í…œ (ëŒ“ê¸€, ìˆ˜ì • ì œì•ˆ ì‘ë‹µ)
- í”Œë ˆì´ì–´ í†µê³„ ê³ ë„í™” (VPIP, PFR, í¬ì§€ì…˜ë³„ ë¶„ì„)
- í•¸ë“œ íƒœê·¸ ì‹œìŠ¤í…œ

**í˜„ì¬ ìƒíƒœ**: ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ ì™„ì„± ğŸ‰
**ìƒì„¸ ì •ë³´**: `../CLAUDE.md` ì°¸ì¡°
